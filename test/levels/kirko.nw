GLEVNW01
BOARD 0 0 64 0 SvagP/TxTyTzT0T1T2P/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/P/TxTyTzT0T1T2P/Svag
BOARD 0 1 64 0 S/awUAUBUCUDUEUFUGUHH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BABBBCBDBDBDBDBDBDBFBGBHH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/UAUBUCUDUEUFUGUHS/aw
BOARD 0 2 64 0 TPbAUQURUSUTUUUVUWUXH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BQBRBSBTBUBUBUBUBTBVBRBXByH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/UQURUSUTUUUVUWUXTPbA
BOARD 0 3 64 0 H/H/UgUhUiUjUkUlUmUnH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BQBRBSBUBUBUBUBUBUBVBRBXCCH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/UgUhUiUjUkUlUmUnH/H/
BOARD 0 4 64 0 H/H/UwUxUyUzU0U1U2U3H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BQBRBSBUBUBUBUBUBUBVBRBXCCH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/UwUxUyUzU0U1U2U3H/H/
BOARD 0 5 64 0 H/H/VAVBVCVDVEVFVGVHH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BQBRBSBUBUBUBUBUBUBVBRBXCCH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/VAVBVCVDVEVFVGVHH/H/
BOARD 0 6 64 0 H/H/BoVRVSVTVUVVVWBvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BQBRBSBTBUBUBUBUBTBVBRBXCCH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BoVRVSVTVUVVVWBvH/H/
BOARD 0 7 64 0 H/H/B4B5B6XFXGB9B+B/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BQBhBiBjBjBjBjBjBjBWCkClCCH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/B4B5B6XFXGB9B+B/H/H/
BOARD 0 8 64 0 H/H/P/CJCKCLCMCNCOf/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BQBxBRBRBRBRBRBRBRBRC0ClCCH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/P/CJCKCLCMCNCOf/H/H/
BOARD 0 9 64 0 H/H/P/P/CaCbCcCdf/f/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/CACBBRBRBkBlBmBnBRBRDEDFCCH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/P/P/CaCbCcCdf/f/H/H/
BOARD 0 10 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/CQCRCRCRB0B1B2B3CRCRCRBzCCH/H/H/H/H/H/H/H/H/H/H/H/H/AEAFAGAHH/H/H/H/H/H/H/H/
BOARD 0 11 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/CgChCiCjCECFCGCHChCiCjCDCCH/H/H/H/H/H/H/H/H/H/H/H/H/AUAVAWAXH/H/H/H/H/H/H/H/
BOARD 0 12 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/CwCxCyCzCUCVCWCXCxCyCzCTCSH/H/H/H/H/H/H/H/H/H/H/H/H/AkAlAmAnH/H/H/H/H/H/H/H/
BOARD 0 13 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/f/f/f/f/BEAwAxBEf/f/f/f/f/H/H/H/H/H/H/H/H/H/H/H/H/H/A0A1A2A3H/H/H/H/H/H/H/H/
BOARD 0 14 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/f/f/f/f/AwAxAwAxf/f/f/f/f/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 15 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 16 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 17 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 18 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfZfZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 19 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 20 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 21 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 22 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/f/AJAKALAMANAOf/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 23 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/AYAZAaAbAcAdAeAfH/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 24 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/AoApAqArAsAtAuAvH/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/ZpZ5Z6Z7H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 25 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/A4A5A6A7A8A9A+A/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/aJJ4J4aLH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 26 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/BIBJBKBLBMBNBOBPH/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/aJJ4J4aLH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 27 64 0 H/H/H/H/H/H/H/GkGlGkGlGkGlH/H/BYBZBaBbBcBdBeBfH/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/aKaZaaabH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 28 64 0 H/H/H/H/H/GkGlG0G1G0G1G0G1GkGlBoBpBqBrBsBtBuBvH/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 29 64 0 H/H/H/H/H/G0G1GkGlGkGlGkGlG0G1B4B5B6B7B8B9B+B/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 30 64 0 H/H/H/H/H/GkGlG0G1G0G1G0G1H/H/f/CJCKCLCMCNCOf/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 31 64 0 H/H/H/H/H/G0G1GkGlGkGlGkGlGkGlf/f/CaCbCcCdf/f/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 32 64 0 H/H/H/H/H/H/H/G0G1G0G1G0G1G0G1H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 33 64 0 f/AJAKALAMANAOf/GkGlGkGlGkGlH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 34 64 0 AYAZAaAbAcAdAeAfG0G1G0G1G0G1H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 35 64 0 AoApAqArAsAtAuAvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 36 64 0 A4A5A6A7A8A9A+A/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 37 64 0 BIBJBKBLBMBNBOBPH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 38 64 0 BYBZBaBbBcBdBeBfH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 39 64 0 BoBpBqBrBsBtBuBvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 40 64 0 B4B5B6B7B8B9B+B/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 41 64 0 f/CJCKCLCMCNCOf/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 42 64 0 f/f/CaCbCcCdf/f/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 43 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 44 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 45 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 46 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 47 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 48 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 49 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 50 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 51 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 52 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 53 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 54 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 55 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 56 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 57 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 58 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 59 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 60 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 61 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 62 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZfapaqa7ZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
BOARD 0 63 64 0 H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/ZvZPa5a6arZvH/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/H/
LINK house.nw 31 12 2 1 30 40
LINK sewer.nw 44 25 2 2 30 30
SIGN 35 15
#h Hello

SIGNEND
NPC block.png 44 10
function onCreated() {
  this.alpha = 0.5;
}

NPCEND
NPC - 18 9

// IDK what this is

//#CLIENTSIDE
function onCreated()
{
  this.chat = "This is a test npc";

  /*
    This is a function
  */
  temp.fn = function(a)
  {
    return (a < 5);
  };

  temp.fn(10);
}

NPCEND
NPC - 49 16
// Graal2002 NPC by Stefan Knorr
if (created) {
  // Initialize the attributes
  showcharacter;
  setcharprop #3,head0.png;
  setcharprop #C0,orange;
  setcharprop #C1,darkred;
  setcharprop #C2,black;
  setcharprop #C3,darkred;
  setcharprop #C4,black;
  setcharprop #n,Bob;
  setcharprop #2,shield1.gif;
  shieldpower = 1;
  dir = 2;
}
if (playerenters || wasthrown) {
  // Initialize the this. variables
  timeout = 0.05;
  this.walkmode = 2;
  if (wasthrown && this.walkmode>1) this.walkmode = 1;
  this.x1 = 30;
  this.x2 = 38;
  this.y1 = 20;
  this.y2 = 18;
  this.speed = 0.3;
  this.mode = 0;
  setcharani idle,;
  this.runcounter = int(random(10,40));
}

// Walking stuff
if (timeout && this.mode==0) { // WALKING
  setcharani walk,;
  newx = x + vecx(dir)*this.speed;
  newy = y + vecy(dir)*this.speed;
  this.runcounter--;
  if (this.walkmode==1) { // RANDOM
    if (this.runcounter>0) {
      testx = newx + 1.5 + vecx(dir);
      testy = newy + 2 + vecy(dir);
      if (onwall(testx,testy)) {
        dir = (dir+2)%4;
        this.runcounter = int(random(0,60));
      } else {
        x = newx;
        y = newy;
      }
    } else {
      this.runcounter = int(random(10,40));
      dir = (dir+1+int(random(0,2))*2)%4;
    }
  } else if (this.walkmode==2) { // LEFTRIGHT
    if (dir!=1 && dir!=3) dir = 3;
    else {
      x = newx;
      y = newy;
      if ((dir==1 && x<=this.x1) || (dir==3 && x>=this.x2))
        dir = (dir+2)%4;
    }
  } else if (this.walkmode==3) { // UPDOWN
    if (dir!=0 && dir!=2) dir = 2;
    else {
      x = newx;
      y = newy;
      if ((dir==0 && y<=this.y1) || (dir==2 && y>=this.y2))
        dir = (dir+2)%4;
    }
  } else if (this.walkmode==4) { // RECTANGLE
    x = newx;
    y = newy;
    if ((dir==0 && y<=this.y1) || (dir==1 && x<=this.x1) ||
        (dir==2 && y>=this.y2) || (dir==3 && x>=this.x2))
      dir = (dir+3)%4;
  }
  if (this.walkmode>1 && this.runcounter<=0)
    this.runcounter = 20;
  message;
  timeout = 0.05;
}

NPCEND
